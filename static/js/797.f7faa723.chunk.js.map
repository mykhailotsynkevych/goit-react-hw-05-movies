{"version":3,"file":"static/js/797.f7faa723.chunk.js","mappings":"4TAEAA,IAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,mCAEHC,EAAoB,WAC/B,OAAOF,IAAAA,IACA,sBAAuB,CACxBG,OAAQ,CACRC,QAASH,KAGRI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,IAAb,GACrB,EAEYC,EAAkB,SAACC,GAC9B,OAAOT,IAAAA,IACE,gBAAiB,CAClBG,OAAQ,CACVO,MAAOD,EACPL,QAASH,KAGRI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,IAAb,GACrB,EAQKI,EAAW,gCAAjB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,CAAC,EAA1D,SACyBC,MAAMF,EAAKC,GADpC,YACQR,EADR,QAEkBU,GAFlB,iCAGYV,EAASW,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAOO,SAASC,EAAaC,GAC3B,OAAOV,EAAuB,GAAD,OAAID,EAAJ,kBAAsBW,EAAtB,oBAAoCrB,EAApC,mBAC9B,CAEM,SAASsB,EAAqBD,GACnC,OAAOV,EAAuB,GAAD,OAAID,EAAJ,kBAAsBW,EAAtB,4BAA4CrB,EAA5C,mBAC9B,CAEM,SAASuB,EAAwBF,GACtC,OAAOV,EAAuB,GAAD,OAAID,EAAJ,kBAAsBW,EAAtB,4BAA4CrB,EAA5C,mBAC9B,C,uDClDD,MAAwB,2B,SCCT,SAASwB,EAAT,GAAgC,IAATC,EAAQ,EAARA,KACpC,OAAO,eAAIC,UAAWC,EAAf,SAAyBF,GACjC,C,qGCoED,UAjEmB,WACjB,OAA0BG,EAAAA,EAAAA,UAAS,IAAnC,eAAOnB,EAAP,KAAcoB,EAAd,KACA,GAAkDD,EAAAA,EAAAA,UAAS,IAA3D,eAAOE,EAAP,KAA0BC,EAA1B,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SAEzBC,GAAWC,EAAAA,EAAAA,MAuBjB,OANAC,EAAAA,EAAAA,YAAU,WACHJ,IAEL5B,EAAAA,EAAAA,IAAgB4B,GAAO/B,MAAK,gBAAGoC,EAAH,EAAGA,QAAH,OAAiBT,EAAqBS,EAAtC,GAC7B,GAAE,CAACL,KAGF,iCACE,SAAC,IAAD,CAAaV,KAAK,YAElB,kBAAMC,UAAU,aAAae,SArBZ,SAAAC,GACnBA,EAAEC,iBAEmB,KAAjBlC,EAAMmC,QAIVV,EAAgB,CAAEC,MAAO1B,IACzBoB,EAAS,KAJPgB,MAAM,mFAKT,EAYG,WACE,kBACEnB,UAAU,mBACVoB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAhCiB,SAAAC,GACvBtB,EAASsB,EAAMC,OAAOC,MACvB,EA+BOA,MAAO5C,KAET,mBAAQqC,KAAK,SAASpB,UAAU,oBAAhC,UACE,iBAAM4B,MAAO,CAAEC,SAAU,IAAzB,yBAIHpB,IACC,wBACGL,EAAkB0B,KAAI,SAAAC,GAAE,OACvB,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAGpC,IAAMsC,MAAO,CAAEC,KAAMvB,GAA7C,SACGoB,EAAGI,SAFCJ,EAAGpC,GADW,QAWlC,C","sources":["api/themoviedb-api.js","webpack://react-homework-template/./src/components/PageHeading/PageHeading.module.css?b132","components/PageHeading/PageHeading.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '7636cf9d603a531a6043a00a518eaa9c';\n\nexport const getTrandingMovies = () => {\n  return axios\n    .get('trending/movie/day?', {\n        params: {\n        api_key: API_KEY,\n      },\n    })\n        .then(response => response.data) \n};\n\nexport const getSearchMovies = (searchMovie) => {\n  return axios\n      .get('search/movie?', {\n          params: {\n        query: searchMovie,\n        api_key: API_KEY,\n      },\n    })\n        .then(response => response.data) \n};\n\n// export const getMovieById = (id) => {\n//   return axios\n//       .get('movie/${id}?api_key=7636cf9d603a531a6043a00a518eaa9c&language=en-US')\n         \n// };\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function getMovieById(id) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`);\n}\n\nexport function getCastFromMovieById(id) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`);\n}\n\nexport function getReviewsFromMovieById(id) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`);\n}\n\nexport function getImageFormMovieById(id) {\n  return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/images?api_key=${API_KEY}&language=en-US`);\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"PageHeading_title__1wPIF\"};","import s from './PageHeading.module.css';\n\nexport default function PageHeading({ text }) {\n  return <h1 className={s.title}>{text}</h1>;\n}","import PageHeading from '../components/PageHeading/PageHeading';\nimport { useState, useEffect } from 'react';\nimport { getSearchMovies } from '../api/themoviedb-api';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { useSearchParams } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const [query, setQuery] = useState('');\n  const [searchMovieResult, setSearchMovieResult] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movie = searchParams.get('movie');\n  \n  const location = useLocation();\n\n  const handleNameChange = event => {\n    setQuery(event.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (query.trim() === '') {\n      alert('Введите запрос.');\n      return;\n    }\n    setSearchParams({ movie: query });\n    setQuery('');\n  };\n\n  useEffect(() => {\n    if (!movie) return;\n\n    getSearchMovies(movie).then(({ results }) => setSearchMovieResult(results));\n  }, [movie]);\n\n  return (\n    <>\n      <PageHeading text=\"Movies\" />\n\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleNameChange}\n          value={query}\n        />\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span style={{ fontSize: 30 }}>&#9906;</span>\n        </button>\n      </form>\n\n      {movie && (\n        <ul>\n          {searchMovieResult.map(el => (\n            <li key={el.id}>\n              <Link to={`/movies/${el.id}`} state={{ from: location }}>\n                {el.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\n\nexport default MoviesPage;"],"names":["axios","API_KEY","getTrandingMovies","params","api_key","then","response","data","getSearchMovies","searchMovie","query","BASE_URL","fetchWithErrorHandling","url","config","fetch","ok","json","Promise","reject","Error","getMovieById","id","getCastFromMovieById","getReviewsFromMovieById","PageHeading","text","className","s","useState","setQuery","searchMovieResult","setSearchMovieResult","useSearchParams","searchParams","setSearchParams","movie","get","location","useLocation","useEffect","results","onSubmit","e","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","onChange","event","target","value","style","fontSize","map","el","to","state","from","title"],"sourceRoot":""}